<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Real-time Rt Estimation, Forecasting and Reporting — epinow • EpiNow2</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Real-time Rt Estimation, Forecasting and Reporting — epinow" />
<meta property="og:description" content="This function wraps the functionality of estimate_infections and forecast_infections in order
to estimate Rt and cases by date of infection, forecast into these infections into the future. It also contains
additional functionality to convert forecasts to date of report and produce summary output useful for reporting
results and interpreting them." />
<meta property="og:image" content="epiforecasts.io/EpiNow2/reference/figures/unnamed-chunk-13-1.png" />
<meta property="og:image:alt" content="Example estimates produced by EpiNow2 of the reproduction number, cases by date of infection and cases by date of report" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@seabbs" />
<meta name="twitter:site" content="@cmmid_lshtm" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EpiNow2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/epiforecasts/EpiNow2">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Real-time Rt Estimation, Forecasting and Reporting</h1>
    
    <div class="hidden name"><code>epinow.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function wraps the functionality of <code>estimate_infections</code> and <code>forecast_infections</code> in order
to estimate Rt and cases by date of infection, forecast into these infections into the future. It also contains
additional functionality to convert forecasts to date of report and produce summary output useful for reporting
results and interpreting them.</p>
    </div>

    <pre class="usage"><span class='fu'>epinow</span><span class='op'>(</span>
  <span class='va'>reported_cases</span>,
  samples <span class='op'>=</span> <span class='fl'>1000</span>,
  horizon <span class='op'>=</span> <span class='fl'>7</span>,
  <span class='va'>generation_time</span>,
  delays <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  CrIs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0.5</span>, <span class='fl'>0.9</span><span class='op'>)</span>,
  return_output <span class='op'>=</span> <span class='cn'>FALSE</span>,
  output <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"samples"</span>, <span class='st'>"plots"</span>, <span class='st'>"latest"</span><span class='op'>)</span>,
  target_folder <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>target_date</span>,
  forecast_args <span class='op'>=</span> <span class='cn'>NULL</span>,
  logs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>,
  id <span class='op'>=</span> <span class='st'>"epinow"</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>reported_cases</th>
      <td><p>A data frame of confirmed cases (confirm) by date (date). confirm must be integer and date must be
in date format.</p></td>
    </tr>
    <tr>
      <th>samples</th>
      <td><p>Numeric, defaults to 1000. Number of samples post warmup.</p></td>
    </tr>
    <tr>
      <th>horizon</th>
      <td><p>Numeric, defaults to 7. Number of days into the future to forecast.</p></td>
    </tr>
    <tr>
      <th>generation_time</th>
      <td><p>A list containing the mean, standard deviation of the mean (mean_sd),
standard deviation (sd), standard deviation of the standard deviation and the maximum allowed value for the
generation time (assuming a gamma distribution).</p></td>
    </tr>
    <tr>
      <th>delays</th>
      <td><p>A list of delays (i.e incubation period/reporting delay) between infection and report.
Each list entry must also be a list containing the mean, standard deviation of the mean (mean_sd),
standard deviation (sd), standard deviation of the standard deviation and the maximum allowed value for the
that delay (assuming a lognormal distribution with all parameters excepting the max allowed value
on the log scale). To use no delays set this to <code><a href='https://rdrr.io/r/base/list.html'>list()</a></code>.</p></td>
    </tr>
    <tr>
      <th>CrIs</th>
      <td><p>Numeric vector of credible intervals to calculate.</p></td>
    </tr>
    <tr>
      <th>return_output</th>
      <td><p>Logical, defaults to FALSE. Should output be returned, this automatically updates to TRUE
if no directory for saving is specified.</p></td>
    </tr>
    <tr>
      <th>output</th>
      <td><p>A character vector of optional output to return. Supported options are samples ("samples"),
plots ("plots"), the run time ("timing"), copying the dated folder into a latest folder (if <code>target_folder</code> is not null</p><ul>
<li><p>set using "latest"), and the stan fit ("fit"). The default is to return samples and plots alongside summarised estimates
and summary statistics. This argument uses partial matching so for example passing "sam" will lead to samples
being reported.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>target_folder</th>
      <td><p>Character string specifying where to save results (will create if not present).</p></td>
    </tr>
    <tr>
      <th>target_date</th>
      <td><p>Date, defaults to maximum found in the data if not specified.</p></td>
    </tr>
    <tr>
      <th>forecast_args</th>
      <td><p>A list of arguments to pass to <code>forecast_infections</code>. Unless at a minimum a <code>forecast_model</code> is passed
tin his list then <code>forecast_infections</code> will be bypassed.</p></td>
    </tr>
    <tr>
      <th>logs</th>
      <td><p>Character path indicating the target folder in which to store log
information. Defaults to the temporary directory if not specified. Default logging
can be disabled if <code>logs</code> is set to NULL. If specifying a custom logging setup then
the code for <code>setup_default_logging</code> and the <code>setup_logging</code> function are a sensible
place to start.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>A character string used to assign logging information on error. Used by <code>regional_epinow</code>
to assign <code>epinow</code> errors to regions.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical, defaults to <code>FALSE</code>. Should verbose debug progress messages be printed. Corresponds to the "DEBUG" level from
<code>futile.logger</code>. See <code>setup_logging</code> for more detailed logging options.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to <code>estimate_infections</code>. See that functions documentation for options.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of output from estimate_infections, forecast_infections,  report_cases, and report_summary.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='co'># construct example distributions</span>
<span class='va'>generation_time</span> <span class='op'>&lt;-</span> <span class='fu'><a href='get_generation_time.html'>get_generation_time</a></span><span class='op'>(</span>disease <span class='op'>=</span> <span class='st'>"SARS-CoV-2"</span>, source <span class='op'>=</span> <span class='st'>"ganyani"</span><span class='op'>)</span>
<span class='va'>incubation_period</span> <span class='op'>&lt;-</span> <span class='fu'><a href='get_incubation_period.html'>get_incubation_period</a></span><span class='op'>(</span>disease <span class='op'>=</span> <span class='st'>"SARS-CoV-2"</span>, source <span class='op'>=</span> <span class='st'>"lauer"</span><span class='op'>)</span>
<span class='va'>reporting_delay</span> <span class='op'>&lt;-</span> <span class='fu'><a href='bootstrapped_dist_fit.html'>bootstrapped_dist_fit</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/Lognormal.html'>rlnorm</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='fl'>6</span><span class='op'>)</span>, <span class='fl'>1</span><span class='op'>)</span>, max_value <span class='op'>=</span> <span class='fl'>30</span><span class='op'>)</span>

<span class='co'># example case data</span>
<span class='va'>reported_cases</span> <span class='op'>&lt;-</span> <span class='fu'>EpiNow2</span><span class='fu'>::</span><span class='va'><a href='example_confirmed.html'>example_confirmed</a></span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>40</span><span class='op'>]</span> 

<span class='co'># estimate Rt and nowcast/forecast cases by date of infection</span>
<span class='va'>out</span> <span class='op'>&lt;-</span> <span class='fu'>epinow</span><span class='op'>(</span>reported_cases <span class='op'>=</span> <span class='va'>reported_cases</span>, generation_time <span class='op'>=</span> <span class='va'>generation_time</span>,
              delays <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>incubation_period</span>, <span class='va'>reporting_delay</span><span class='op'>)</span>,
              stan_args <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>cores <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='fl'>4</span>, <span class='fl'>1</span><span class='op'>)</span>,
              control <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>adapt_delta <span class='op'>=</span> <span class='fl'>0.95</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Logging threshold set at INFO for the EpiNow2 logger</span></div><div class='output co'>#&gt; <span class='message'>Writing EpiNow2 logs to: /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpsi8KuW/regional-epinow/2020-04-01.log</span></div><div class='output co'>#&gt; <span class='message'>Logging threshold set at INFO for the EpiNow2.epinow logger</span></div><div class='output co'>#&gt; <span class='message'>Writing EpiNow2.epinow logs to: /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpsi8KuW/epinow/2020-04-01.log</span></div><div class='output co'>#&gt; <span class='message'>Logging threshold set at INFO for the EpiNow2.epinow.estimate_infections logger</span></div><div class='output co'>#&gt; <span class='message'>Writing EpiNow2.epinow.estimate_infections logs to: /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpsi8KuW/epinow-estimate-infections/2020-04-01.log</span></div><div class='output co'>#&gt; WARN [2020-10-19 21:56:55] epinow: There were 5 divergent transitions after warmup. See
#&gt; http://mc-stan.org/misc/warnings.html#divergent-transitions-after-warmup
#&gt; to find out why this is a problem and how to eliminate them. - 
#&gt; WARN [2020-10-19 21:56:55] epinow: Examine the pairs() plot to diagnose sampling problems
#&gt;  - 
#&gt; WARN [2020-10-19 21:56:56] epinow: Bulk Effective Samples Size (ESS) is too low, indicating posterior means and medians may be unreliable.
#&gt; Running the chains for more iterations may help. See
#&gt; http://mc-stan.org/misc/warnings.html#bulk-ess - </div><div class='input'><span class='va'>out</span>
</div><div class='output co'>#&gt; $estimates
#&gt; $estimates$samples
#&gt;                 variable        parameter time       date sample       value
#&gt;      1:       infections       infections    1 2020-02-08      1    2.159995
#&gt;      2:       infections       infections    2 2020-02-09      1   10.099456
#&gt;      3:       infections       infections    3 2020-02-10      1   16.630115
#&gt;      4:       infections       infections    4 2020-02-11      1   32.412070
#&gt;      5:       infections       infections    5 2020-02-12      1   49.750913
#&gt;     ---                                                                     
#&gt; 215057: prior_infections prior_infections   57 2020-04-04      1 4562.019565
#&gt; 215058: prior_infections prior_infections   58 2020-04-05      1 4517.391996
#&gt; 215059: prior_infections prior_infections   59 2020-04-06      1 4473.200993
#&gt; 215060: prior_infections prior_infections   60 2020-04-07      1 4429.442284
#&gt; 215061: prior_infections prior_infections   61 2020-04-08      1 4386.111642
#&gt;         strat     type
#&gt;      1:  &lt;NA&gt; estimate
#&gt;      2:  &lt;NA&gt; estimate
#&gt;      3:  &lt;NA&gt; estimate
#&gt;      4:  &lt;NA&gt; estimate
#&gt;      5:  &lt;NA&gt; estimate
#&gt;     ---               
#&gt; 215057:  &lt;NA&gt; forecast
#&gt; 215058:  &lt;NA&gt; forecast
#&gt; 215059:  &lt;NA&gt; forecast
#&gt; 215060:  &lt;NA&gt; forecast
#&gt; 215061:  &lt;NA&gt; forecast
#&gt; 
#&gt; $estimates$summarised
#&gt;            date       variable strat     type      median        mean
#&gt;   1: 2020-02-22              R  &lt;NA&gt; estimate    1.341517    1.349248
#&gt;   2: 2020-02-23              R  &lt;NA&gt; estimate    1.398188    1.399167
#&gt;   3: 2020-02-24              R  &lt;NA&gt; estimate    1.453684    1.453116
#&gt;   4: 2020-02-25              R  &lt;NA&gt; estimate    1.507008    1.509397
#&gt;   5: 2020-02-26              R  &lt;NA&gt; estimate    1.566167    1.565963
#&gt;  ---                                                                 
#&gt; 272: 2020-04-04 reported_cases  &lt;NA&gt; forecast 3891.000000 4827.220000
#&gt; 273: 2020-04-05 reported_cases  &lt;NA&gt; forecast 4355.500000 5721.663000
#&gt; 274: 2020-04-06 reported_cases  &lt;NA&gt; forecast 4070.500000 5953.404000
#&gt; 275: 2020-04-07 reported_cases  &lt;NA&gt; forecast 3426.500000 6067.144000
#&gt; 276: 2020-04-08 reported_cases  &lt;NA&gt; forecast 2741.500000 9174.799000
#&gt;                sd     lower_90    lower_50    lower_20    upper_20    upper_50
#&gt;   1: 2.242618e-01    0.9761397    1.199982    1.289523    1.401169    1.504581
#&gt;   2: 1.835833e-01    1.0881845    1.283318    1.350390    1.443638    1.521694
#&gt;   3: 1.460253e-01    1.2134707    1.357536    1.412748    1.487038    1.551086
#&gt;   4: 1.145277e-01    1.3170887    1.433303    1.482498    1.536220    1.584285
#&gt;   5: 9.393055e-02    1.4095891    1.505698    1.544819    1.588178    1.624596
#&gt;  ---                                                                          
#&gt; 272: 3.833202e+03 1374.0000000 2592.500000 3324.000000 4553.600000 6121.250000
#&gt; 273: 5.290093e+03 1416.8500000 2795.000000 3642.000000 5281.000000 6950.000000
#&gt; 274: 1.230668e+04 1377.0000000 2540.000000 3347.400000 4764.200000 6771.750000
#&gt; 275: 2.543575e+04 1003.8000000 2151.750000 2861.600000 4058.000000 5755.750000
#&gt; 276: 1.274545e+05  893.1500000 1697.000000 2236.200000 3368.600000 4891.000000
#&gt;          upper_90
#&gt;   1:     1.708593
#&gt;   2:     1.694195
#&gt;   3:     1.690742
#&gt;   4:     1.696275
#&gt;   5:     1.719823
#&gt;  ---             
#&gt; 272: 10980.950000
#&gt; 273: 13390.150000
#&gt; 274: 14367.750000
#&gt; 275: 12410.600000
#&gt; 276: 14268.000000
#&gt; 
#&gt; 
#&gt; $estimated_reported_cases
#&gt; $estimated_reported_cases$samples
#&gt;              date sample cases  type
#&gt;     1: 2020-02-22      1    58 gp_rt
#&gt;     2: 2020-02-23      1   144 gp_rt
#&gt;     3: 2020-02-24      1   134 gp_rt
#&gt;     4: 2020-02-25      1   235 gp_rt
#&gt;     5: 2020-02-26      1   252 gp_rt
#&gt;    ---                              
#&gt; 46996: 2020-04-04   1000  1249 gp_rt
#&gt; 46997: 2020-04-05   1000  2580 gp_rt
#&gt; 46998: 2020-04-06   1000  1300 gp_rt
#&gt; 46999: 2020-04-07   1000  1232 gp_rt
#&gt; 47000: 2020-04-08   1000   817 gp_rt
#&gt; 
#&gt; $estimated_reported_cases$summarised
#&gt;           date  type median     mean           sd lower_90 lower_50 lower_20
#&gt;  1: 2020-02-22 gp_rt   71.0   77.645     39.91504    28.00    49.75     61.0
#&gt;  2: 2020-02-23 gp_rt  106.0  116.893     57.21387    42.00    75.00     94.0
#&gt;  3: 2020-02-24 gp_rt  134.5  147.251     74.12028    51.95    94.75    117.0
#&gt;  4: 2020-02-25 gp_rt  146.0  157.373     77.17274    57.00   101.00    129.6
#&gt;  5: 2020-02-26 gp_rt  145.0  160.152     83.01261    57.95   100.00    126.6
#&gt;  6: 2020-02-27 gp_rt  198.0  217.519    107.69495    79.00   144.00    177.6
#&gt;  7: 2020-02-28 gp_rt  288.0  312.342    149.68136   120.95   202.75    253.0
#&gt;  8: 2020-02-29 gp_rt  253.0  277.871    141.99473    93.95   180.00    221.0
#&gt;  9: 2020-03-01 gp_rt  335.0  388.120    215.29911   143.95   241.75    291.0
#&gt; 10: 2020-03-02 gp_rt  384.0  424.994    213.12274   161.95   276.75    342.0
#&gt; 11: 2020-03-03 gp_rt  400.5  449.371    235.00720   155.00   283.00    354.6
#&gt; 12: 2020-03-04 gp_rt  404.5  448.511    229.62266   164.95   284.00    358.0
#&gt; 13: 2020-03-05 gp_rt  562.0  639.072    357.89280   220.85   387.75    493.2
#&gt; 14: 2020-03-06 gp_rt  849.5  939.788    467.98195   365.00   599.00    741.0
#&gt; 15: 2020-03-07 gp_rt  748.0  829.603    436.53165   291.75   506.00    650.6
#&gt; 16: 2020-03-08 gp_rt 1132.0 1201.036    561.96009   445.85   791.25    993.6
#&gt; 17: 2020-03-09 gp_rt 1246.5 1387.595    712.50375   499.65   867.25   1100.2
#&gt; 18: 2020-03-10 gp_rt 1311.5 1470.919    767.52286   541.00   940.25   1163.8
#&gt; 19: 2020-03-11 gp_rt 1355.0 1478.004    767.08078   511.95   942.75   1191.6
#&gt; 20: 2020-03-12 gp_rt 1777.0 1971.824   1064.34751   690.00  1240.75   1530.6
#&gt; 21: 2020-03-13 gp_rt 2768.5 3022.203   1562.02570  1008.90  1895.75   2453.6
#&gt; 22: 2020-03-14 gp_rt 2278.0 2595.960   1344.07937  1004.95  1631.75   2102.0
#&gt; 23: 2020-03-15 gp_rt 3257.5 3601.642   1866.18477  1265.10  2269.75   2848.6
#&gt; 24: 2020-03-16 gp_rt 3593.0 3988.457   2049.67037  1464.70  2500.25   3156.2
#&gt; 25: 2020-03-17 gp_rt 3486.5 3851.348   1919.16882  1372.75  2447.25   3109.6
#&gt; 26: 2020-03-18 gp_rt 3405.0 3666.603   1891.18133  1210.75  2273.00   2925.2
#&gt; 27: 2020-03-19 gp_rt 4200.5 4684.007   2534.48724  1630.55  2966.75   3708.6
#&gt; 28: 2020-03-20 gp_rt 5621.0 6236.110   3385.16801  2327.55  3840.00   4909.0
#&gt; 29: 2020-03-21 gp_rt 4385.5 4912.028   2556.10366  1733.85  3127.50   3854.2
#&gt; 30: 2020-03-22 gp_rt 5398.5 5915.984   3128.15757  2038.85  3669.75   4696.6
#&gt; 31: 2020-03-23 gp_rt 5623.5 6244.245   3165.12126  2343.30  4041.00   4956.4
#&gt; 32: 2020-03-24 gp_rt 5159.0 5741.545   3003.14821  2017.50  3564.25   4521.8
#&gt; 33: 2020-03-25 gp_rt 4516.5 4973.925   2530.73872  1944.65  3171.75   3915.0
#&gt; 34: 2020-03-26 gp_rt 5170.0 5668.940   2856.01626  2039.85  3669.25   4543.6
#&gt; 35: 2020-03-27 gp_rt 6575.5 7330.578   3960.48266  2619.35  4657.75   5786.4
#&gt; 36: 2020-03-28 gp_rt 4932.5 5369.318   2794.42671  1862.90  3416.00   4225.8
#&gt; 37: 2020-03-29 gp_rt 5623.0 6312.478   3377.73728  2245.35  3976.25   4951.2
#&gt; 38: 2020-03-30 gp_rt 5250.5 5924.340   3388.54639  2023.25  3564.50   4566.0
#&gt; 39: 2020-03-31 gp_rt 4593.0 5162.158   2769.17961  1757.85  3199.00   3927.8
#&gt; 40: 2020-04-01 gp_rt 3794.5 4304.636   2414.89162  1394.90  2623.50   3298.6
#&gt; 41: 2020-04-02 gp_rt 4433.0 5116.818   3208.23590  1640.40  2931.50   3800.2
#&gt; 42: 2020-04-03 gp_rt 5356.0 6568.032   4857.76690  1893.90  3466.50   4573.2
#&gt; 43: 2020-04-04 gp_rt 3891.0 4827.220   3833.20248  1374.00  2592.50   3324.0
#&gt; 44: 2020-04-05 gp_rt 4355.5 5721.663   5290.09347  1416.85  2795.00   3642.0
#&gt; 45: 2020-04-06 gp_rt 4070.5 5953.404  12306.67839  1377.00  2540.00   3347.4
#&gt; 46: 2020-04-07 gp_rt 3426.5 6067.144  25435.75030  1003.80  2151.75   2861.6
#&gt; 47: 2020-04-08 gp_rt 2741.5 9174.799 127454.51257   893.15  1697.00   2236.2
#&gt;           date  type median     mean           sd lower_90 lower_50 lower_20
#&gt;     upper_20 upper_50 upper_90
#&gt;  1:     79.4    98.00   155.00
#&gt;  2:    120.0   148.25   224.15
#&gt;  3:    153.0   183.00   280.00
#&gt;  4:    163.0   194.00   300.15
#&gt;  5:    167.0   203.00   303.00
#&gt;  6:    221.0   271.25   423.20
#&gt;  7:    325.4   390.25   583.10
#&gt;  8:    287.0   347.00   540.00
#&gt;  9:    394.4   486.25   770.30
#&gt; 10:    427.8   525.25   853.05
#&gt; 11:    461.0   565.25   920.45
#&gt; 12:    465.0   567.50   872.05
#&gt; 13:    649.4   798.25  1313.20
#&gt; 14:    970.0  1197.25  1831.60
#&gt; 15:    844.0  1046.50  1683.20
#&gt; 16:   1272.2  1507.00  2235.40
#&gt; 17:   1419.0  1767.25  2731.60
#&gt; 18:   1504.2  1835.00  2856.35
#&gt; 19:   1519.4  1847.25  2960.50
#&gt; 20:   2035.8  2453.25  3938.55
#&gt; 21:   3164.0  3790.25  5921.15
#&gt; 22:   2593.8  3191.75  5307.10
#&gt; 23:   3716.8  4494.50  7098.45
#&gt; 24:   4184.4  4991.25  7786.20
#&gt; 25:   3984.4  4826.50  7333.70
#&gt; 26:   3794.0  4572.00  7202.45
#&gt; 27:   4843.8  5810.75  9429.45
#&gt; 28:   6342.8  7664.50 12769.40
#&gt; 29:   4960.6  6133.25  9867.90
#&gt; 30:   6034.2  7406.50 11907.15
#&gt; 31:   6443.6  7787.50 12123.90
#&gt; 32:   5837.0  7217.25 11572.90
#&gt; 33:   5102.2  6312.25  9551.20
#&gt; 34:   5872.4  7110.00 11106.10
#&gt; 35:   7531.0  9136.25 14080.55
#&gt; 36:   5481.0  6703.75 10460.25
#&gt; 37:   6420.2  7774.75 12689.85
#&gt; 38:   5974.2  7317.25 11903.50
#&gt; 39:   5220.0  6634.75 10482.55
#&gt; 40:   4382.0  5497.75  8501.65
#&gt; 41:   5014.2  6215.25 11209.30
#&gt; 42:   6324.4  8318.50 15025.80
#&gt; 43:   4553.6  6121.25 10980.95
#&gt; 44:   5281.0  6950.00 13390.15
#&gt; 45:   4764.2  6771.75 14367.75
#&gt; 46:   4058.0  5755.75 12410.60
#&gt; 47:   3368.6  4891.00 14268.00
#&gt;     upper_20 upper_50 upper_90
#&gt; 
#&gt; 
#&gt; $summary
#&gt;                                  measure              estimate
#&gt; 1: New confirmed cases by infection date   2513 (195 -- 19646)
#&gt; 2:        Expected change in daily cases                Unsure
#&gt; 3:            Effective reproduction no.      0.7 (0.2 -- 1.7)
#&gt; 4:                        Rate of growth -0.08 (-0.27 -- 0.17)
#&gt; 5:          Doubling/halving time (days)    -8.7 (4.1 -- -2.6)
#&gt;     numeric_estimate
#&gt; 1: &lt;data.table[1x9]&gt;
#&gt; 2:              0.74
#&gt; 3: &lt;data.table[1x9]&gt;
#&gt; 4: &lt;data.table[1x9]&gt;
#&gt; 5: &lt;data.table[1x9]&gt;
#&gt; 
#&gt; $plots
#&gt; $plots$infections</div><div class='img'><img src='epinow-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; $plots$reports</div><div class='img'><img src='epinow-2.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; $plots$reff</div><div class='img'><img src='epinow-3.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; $plots$growth_rate</div><div class='img'><img src='epinow-4.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; $plots$summary</div><div class='img'><img src='epinow-5.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; 
#&gt; </div><div class='input'>
<span class='co'># optional forecasting using EpiSoon plug-in</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"EpiSoon"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
   <span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"forecastHybrid"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
   <span class='co'># report Rt along with forecasts</span>
   <span class='va'>out</span> <span class='op'>&lt;-</span> <span class='fu'>epinow</span><span class='op'>(</span>reported_cases <span class='op'>=</span> <span class='va'>reported_cases</span>, samples <span class='op'>=</span> <span class='fl'>200</span>,
                 generation_time <span class='op'>=</span> <span class='va'>generation_time</span>, 
                 delays <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>incubation_period</span>, <span class='va'>reporting_delay</span><span class='op'>)</span>,
                 forecast_args <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
                     forecast_model <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>y</span>, <span class='va'>...</span><span class='op'>)</span><span class='op'>{</span>
                     <span class='fu'>EpiSoon</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/EpiSoon/man/forecastHybrid_model.html'>forecastHybrid_model</a></span><span class='op'>(</span>
                          y <span class='op'>=</span> <span class='va'>y</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span> <span class='op'>-</span> <span class='fl'>21</span><span class='op'>)</span><span class='op'>:</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span><span class='op'>]</span>,
                          model_params <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>models <span class='op'>=</span> <span class='st'>"aefz"</span>, weights <span class='op'>=</span> <span class='st'>"equal"</span><span class='op'>)</span>,
                          forecast_params <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>PI.combination <span class='op'>=</span> <span class='st'>"mean"</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span><span class='op'>}</span>
                          <span class='op'>)</span>,
                 stan_args <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>warmup <span class='op'>=</span> <span class='fl'>200</span>, cores <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='fl'>4</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
    <span class='va'>out</span>
   <span class='op'>}</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; <span class='message'>Loading required namespace: EpiSoon</span></div><div class='output co'>#&gt; <span class='message'>Loading required namespace: forecastHybrid</span></div><div class='output co'>#&gt; <span class='message'>Registered S3 method overwritten by 'quantmod':</span>
#&gt; <span class='message'>  method            from</span>
#&gt; <span class='message'>  as.zoo.data.frame zoo </span></div><div class='output co'>#&gt; <span class='message'>Logging threshold set at INFO for the EpiNow2 logger</span></div><div class='output co'>#&gt; <span class='message'>Writing EpiNow2 logs to: /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpsi8KuW/regional-epinow/2020-04-01.log</span></div><div class='output co'>#&gt; <span class='message'>Logging threshold set at INFO for the EpiNow2.epinow logger</span></div><div class='output co'>#&gt; <span class='message'>Writing EpiNow2.epinow logs to: /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpsi8KuW/epinow/2020-04-01.log</span></div><div class='output co'>#&gt; <span class='message'>Logging threshold set at INFO for the EpiNow2.epinow.estimate_infections logger</span></div><div class='output co'>#&gt; <span class='message'>Writing EpiNow2.epinow.estimate_infections logs to: /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//Rtmpsi8KuW/epinow-estimate-infections/2020-04-01.log</span></div><div class='output co'>#&gt; WARN [2020-10-19 22:01:54] epinow: There were 1 divergent transitions after warmup. See
#&gt; http://mc-stan.org/misc/warnings.html#divergent-transitions-after-warmup
#&gt; to find out why this is a problem and how to eliminate them. - 
#&gt; WARN [2020-10-19 22:01:54] epinow: Examine the pairs() plot to diagnose sampling problems
#&gt;  - 
#&gt; WARN [2020-10-19 22:01:55] epinow: The largest R-hat is 1.08, indicating chains have not mixed.
#&gt; Running the chains for more iterations may help. See
#&gt; http://mc-stan.org/misc/warnings.html#r-hat - 
#&gt; WARN [2020-10-19 22:01:55] epinow: Bulk Effective Samples Size (ESS) is too low, indicating posterior means and medians may be unreliable.
#&gt; Running the chains for more iterations may help. See
#&gt; http://mc-stan.org/misc/warnings.html#bulk-ess - 
#&gt; WARN [2020-10-19 22:01:55] epinow: Tail Effective Samples Size (ESS) is too low, indicating posterior variances and tail quantiles may be unreliable.
#&gt; Running the chains for more iterations may help. See
#&gt; http://mc-stan.org/misc/warnings.html#tail-ess - </div><div class='output co'>#&gt; <span class='error'>Error in data.table::rbindlist(list(reported_cases_rt$samples[, `:=`(type,     "rt")], reported_cases_cases$samples[, `:=`(type, "case")],     reported_cases_ensemble$samples[, `:=`(type, "ensemble")],     estimates$samples[variable == "reported_cases"][, .(date,         sample, cases = value, type = "gp_rt")]), use.names = TRUE): Column 3 ['cases'] of item 4 is missing in item 1. Use fill=TRUE to fill with NA (NULL for list columns), or use.names=FALSE to ignore column names.</span></div><div class='output co'>#&gt; <span class='message'>Timing stopped at: 311.9 0.363 312.3</span></div><div class='input'><span class='co'># }</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.samabbott.co.uk/'>Sam Abbott</a>, Joel Hellewell, Robin Thompson, Katelyn Gostic, Katharine Sherratt, Sophie Meakin, James Munday, Nikos Bosse, Joe Hickson, EpiForecasts, <a href='https://www.lshtm.ac.uk/aboutus/people/funk.sebastian'>Sebastian Funk</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '43da981922253a06c4dfab7b53f2410e',
    indexName: 'epinow2',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


