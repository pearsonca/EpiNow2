<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Approximate Gaussian Process Settings — gp_settings • EpiNow2</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Approximate Gaussian Process Settings — gp_settings" />
<meta property="og:description" content="Defines a list specifying the structure of the approximate Gaussian
process. Custom settings can be supplied which override the defaults. Used internally
by create_gp_data, create_stan_data, and estimate_infections. The settings
returned (all of which are modifiable by the user) are:
ls_mean and ls_sd: The mean and standard deviation of the log normal length scale with
default values of 21 days and 7 days respectively.
ls_min and ls_max: The minimum and maximum values of the length scale with default values
of 3 and the maximum length of the data (input by the user) or 9 weeks if no maximum given.
alpha_sd: The standard deviation of the magnitude parameter of the kernel. This defaults to 0.1 and
should be approximately the expected standard deviation of the logged Rt.
kernel: The type of kernel required, currently supporting the squared exponential kernel (&quot;se&quot;)
and the 3 over 2 Matern kernel (&quot;matern&quot;, with matern_type = 3/2 (no other form of Matern
kernels are currently supported)). Defaulting to the Matern 3 over 2 kernel.
as discontinuities are expected in Rt and infections.
basis_prop and boundary_scale: The proportion of basis functions to time points and
the boundary scale of the approximate gaussian process. The proportion of basis functions
defaults to 0.3 (and much be greater than 0), and the boundary scale defaults to 2.
Decreasing either of these values should increase run times at the cost of the accuracy of
Gaussian process approximation. In general smaller posterior length scales require a
higher proportion of basis functions and the user should only rarely alter the boundary scale.
These settings are an area of active research. See https://arxiv.org/abs/2004.11408 for further
details.
stationary: Should the Gaussian process be estimated with a stationary global mean or be second
order and so depend on the previous value. A stationary Gaussian process may be more
tractable but will revert to the global average when data is sparse i.e for near real
time estimates. The default is FALSE. This feature is experimental.

" />
<meta property="og:image" content="epiforecasts.io/EpiNow2/reference/figures/unnamed-chunk-13-1.png" />
<meta property="og:image:alt" content="Example estimates produced by EpiNow2 of the reproduction number, cases by date of infection and cases by date of report" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@seabbs" />
<meta name="twitter:site" content="@cmmid_lshtm" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">EpiNow2</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.3.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/epiforecasts/EpiNow2">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Approximate Gaussian Process Settings</h1>
    
    <div class="hidden name"><code>gp_settings.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Defines a list specifying the structure of the approximate Gaussian
process. Custom settings can be supplied which override the defaults. Used internally
by <code>create_gp_data</code>, <code>create_stan_data</code>, and <code>estimate_infections</code>. The settings
returned (all of which are modifiable by the user) are:</p><ul>
<li><p><code>ls_mean</code> and <code>ls_sd</code>: The mean and standard deviation of the log normal length scale with
default values of 21 days and 7 days respectively.</p></li>
<li><p><code>ls_min</code> and <code>ls_max</code>: The minimum and maximum values of the length scale with default values
of 3 and the maximum length of the data (input by the user) or 9 weeks if no maximum given.</p></li>
<li><p><code>alpha_sd</code>: The standard deviation of the magnitude parameter of the kernel. This defaults to 0.1 and
should be approximately the expected standard deviation of the logged Rt.</p></li>
<li><p><code>kernel</code>: The type of kernel required, currently supporting the squared exponential kernel ("se")
and the 3 over 2 Matern kernel ("matern", with <code>matern_type = 3/2</code> (no other form of Matern
kernels are currently supported)). Defaulting to the Matern 3 over 2 kernel.
as discontinuities are expected in Rt and infections.</p></li>
<li><p><code>basis_prop</code> and <code>boundary_scale</code>: The proportion of basis functions to time points and
the boundary scale of the approximate gaussian process. The proportion of basis functions
defaults to 0.3 (and much be greater than 0), and the boundary scale defaults to 2.
Decreasing either of these values should increase run times at the cost of the accuracy of
Gaussian process approximation. In general smaller posterior length scales require a
higher proportion of basis functions and the user should only rarely alter the boundary scale.
These settings are an area of active research. See https://arxiv.org/abs/2004.11408 for further
details.</p></li>
<li><p><code>stationary</code>: Should the Gaussian process be estimated with a stationary global mean or be second
order and so depend on the previous value. A stationary Gaussian process may be more
tractable but will revert to the global average when data is sparse i.e for near real
time estimates. The default is FALSE. This feature is experimental.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>gp_settings</span><span class='op'>(</span>gp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>, time <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>gp</th>
      <td><p>A list of settings to override the defaults. Defaults to an empty list.</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p>The maximum observed time, defaults to NA.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of settings defining the gaussian process</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># default settings</span>
<span class='fu'>gp_settings</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $basis_prop
#&gt; [1] 0.3
#&gt; 
#&gt; $boundary_scale
#&gt; [1] 2
#&gt; 
#&gt; $ls_mean
#&gt; [1] 21
#&gt; 
#&gt; $ls_sd
#&gt; [1] 7
#&gt; 
#&gt; $ls_min
#&gt; [1] 3
#&gt; 
#&gt; $ls_max
#&gt; [1] 63
#&gt; 
#&gt; $alpha_sd
#&gt; [1] 0.1
#&gt; 
#&gt; $kernel
#&gt; [1] "matern"
#&gt; 
#&gt; $matern_type
#&gt; [1] 1.5
#&gt; 
#&gt; $stationary
#&gt; [1] FALSE
#&gt; </div><div class='input'>
<span class='co'># add a custom length scale</span>
<span class='fu'>gp_settings</span><span class='op'>(</span>gp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>ls_mean <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; $basis_prop
#&gt; [1] 0.3
#&gt; 
#&gt; $boundary_scale
#&gt; [1] 2
#&gt; 
#&gt; $ls_sd
#&gt; [1] 7
#&gt; 
#&gt; $ls_min
#&gt; [1] 3
#&gt; 
#&gt; $ls_max
#&gt; [1] 63
#&gt; 
#&gt; $alpha_sd
#&gt; [1] 0.1
#&gt; 
#&gt; $kernel
#&gt; [1] "matern"
#&gt; 
#&gt; $matern_type
#&gt; [1] 1.5
#&gt; 
#&gt; $stationary
#&gt; [1] FALSE
#&gt; 
#&gt; $ls_mean
#&gt; [1] 4
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.samabbott.co.uk/'>Sam Abbott</a>, Joel Hellewell, Robin Thompson, Katelyn Gostic, Katharine Sherratt, Hamada S. Badr, Michael DeWitt, Sophie Meakin, James Munday, Nikos Bosse, Joe Hickson, EpiForecasts, <a href='https://www.lshtm.ac.uk/aboutus/people/funk.sebastian'>Sebastian Funk</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '43da981922253a06c4dfab7b53f2410e',
    indexName: 'epinow2',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


